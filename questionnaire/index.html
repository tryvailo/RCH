<!DOCTYPE html>
<html lang="en-GB">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Professional Care Home Assessment - RightCareHome</title>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <style>
        /* ===== BASE 55+ OPTIMIZED STYLES ===== */
        :root {
            --primary: #4A90E2;
            --primary-dark: #2C5F8B;
            --accent: #E8B86D;
            --accent-hover: #D4A355;
            --success: #6BBF59;
            --error: #EF4444;
            --text-primary: #2D3748;
            --text-secondary: #4A5568;
            --background-warm: #F7F5F3;
            --background-soft: #FAF8F5;
            --border-warm: #E2D7CC;
            
            --font-base: 20px;
            --font-small: 18px;
            --font-large: 24px;
            --font-xl: 28px;
            --font-xxl: 36px;
            
            --touch-min: 56px;
            --touch-comfortable: 64px;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            font-size: var(--font-base);
            line-height: 1.7;
            color: var(--text-primary);
            background: var(--background-warm);
            -webkit-font-smoothing: antialiased;
        }
        
        /* ===== HEADER ===== */
        .header {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(16px);
            border-bottom: 2px solid var(--border-warm);
            z-index: 50;
            padding: 1rem 0;
        }
        
        .header-container {
            max-width: 1280px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            min-height: 60px;
        }
        
        .logo h1 {
            font-size: 1.75rem;
            font-weight: 800;
            color: var(--primary);
        }
        
        .header-text {
            font-size: 1.125rem;
            color: var(--text-secondary);
            font-weight: 600;
        }
        
        /* ===== MAIN CONTENT ===== */
        main {
            padding-top: 7rem;
            padding-bottom: 4rem;
            min-height: 100vh;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 0 1.5rem;
        }
        
        /* ===== TYPOGRAPHY ===== */
        h1 {
            font-size: var(--font-xxl);
            font-weight: 900;
            line-height: 1.2;
            color: var(--text-primary);
            margin-bottom: 1.5rem;
        }
        
        .section-title {
            font-size: var(--font-xl);
            font-weight: 800;
            margin-bottom: 1rem;
            color: var(--text-primary);
        }
        
        .section-description {
            font-size: var(--font-large);
            color: var(--text-secondary);
            margin-bottom: 2rem;
            font-weight: 500;
        }
        
        .question-label {
            font-size: var(--font-large);
            font-weight: 700;
            margin-bottom: 1rem;
            display: block;
            color: var(--text-primary);
        }
        
        .help-text {
            font-size: var(--font-base);
            color: var(--text-secondary);
            margin-top: 0.75rem;
            line-height: 1.6;
            font-weight: 500;
        }
        
        /* ===== PROGRESS BAR ===== */
        .progress-text {
            font-size: var(--font-large);
            color: var(--text-secondary);
            text-align: center;
            margin-bottom: 1rem;
            font-weight: 700;
        }
        
        .progress-bar {
            background: #E5E7EB;
            border-radius: 10px;
            height: 16px;
            overflow: hidden;
            margin-bottom: 2rem;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .progress-fill {
            background: linear-gradient(90deg, var(--primary), var(--accent));
            height: 100%;
            border-radius: 10px;
            transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        /* ===== SECTIONS ===== */
        .question-section {
            display: none;
            background: white;
            border-radius: 16px;
            padding: 3rem;
            box-shadow: 0 4px 20px rgba(45, 55, 72, 0.08);
            border: 2px solid var(--border-warm);
            margin-bottom: 2rem;
        }
        
        .question-section.active {
            display: block;
            animation: fadeIn 0.4s ease;
        }
        
        .space-y-8 > * + * {
            margin-top: 2.5rem;
        }
        
        /* ===== FORM INPUTS ===== */
        .form-input {
            font-family: 'Inter', sans-serif;
            font-size: var(--font-base);
            padding: 1.25rem 1.5rem;
            border: 3px solid var(--border-warm);
            border-radius: 12px;
            background: white;
            color: var(--text-primary);
            transition: all 0.3s ease;
            min-height: var(--touch-min);
            width: 100%;
            font-weight: 500;
        }
        
        .form-input:focus {
            border-color: var(--accent);
            box-shadow: 0 0 0 4px rgba(232, 184, 109, 0.15);
            outline: none;
        }
        
        textarea.form-input {
            min-height: 140px;
            resize: vertical;
        }
        
        /* ===== RADIO & CHECKBOX ===== */
        .radio-option,
        .checkbox-option {
            display: flex;
            align-items: center;
            padding: 1.25rem 1.5rem;
            border: 3px solid var(--border-warm);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: white;
            min-height: var(--touch-comfortable);
        }
        
        .radio-option:hover,
        .checkbox-option:hover {
            background: var(--background-soft);
            border-color: var(--accent);
            transform: translateY(-2px);
        }
        
        .radio-option.selected,
        .checkbox-option.selected {
            background: var(--background-soft);
            border-color: var(--accent);
            box-shadow: 0 2px 8px rgba(232, 184, 109, 0.2);
        }
        
        .radio-option input,
        .checkbox-option input {
            width: 28px;
            height: 28px;
            margin-right: 1rem;
            cursor: pointer;
            flex-shrink: 0;
            accent-color: var(--accent);
        }
        
        .radio-option span,
        .checkbox-option span {
            font-size: var(--font-base);
            font-weight: 600;
            color: var(--text-primary);
        }
        
        /* ===== PRIORITY BADGES ===== */
        .priority-indicator {
            display: inline-flex;
            align-items: center;
            margin-left: 0.75rem;
            font-size: 14px;
            font-weight: 700;
            padding: 4px 12px;
            border-radius: 12px;
        }
        
        .priority-critical {
            background-color: #fee2e2;
            color: #dc2626;
            border: 2px solid #dc2626;
        }
        
        .priority-high {
            background-color: #fef3c7;
            color: #d97706;
            border: 2px solid #d97706;
        }
        
        /* ===== SAFETY SECTION ===== */
        .safety-section {
            background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%);
            border: 3px solid #3b82f6 !important;
        }
        
        .safety-icon {
            font-size: 32px;
            margin-right: 0.5rem;
        }
        
        /* ===== BUTTONS ===== */
        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 3rem;
            padding-top: 2rem;
            border-top: 2px solid var(--border-warm);
            gap: 1rem;
        }
        
        .primary-btn,
        .secondary-btn {
            font-size: var(--font-base);
            font-weight: 700;
            padding: 1.25rem 2rem;
            border-radius: 12px;
            transition: all 0.3s ease;
            cursor: pointer;
            min-height: var(--touch-comfortable);
            border: none;
            font-family: 'Inter', sans-serif;
        }
        
        .primary-btn {
            background: linear-gradient(135deg, var(--accent) 0%, var(--accent-hover) 100%);
            color: white;
            border: 2px solid var(--accent);
            box-shadow: 0 4px 14px rgba(232, 184, 109, 0.3);
        }
        
        .primary-btn:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(232, 184, 109, 0.4);
        }
        
        .primary-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .secondary-btn {
            background: transparent;
            color: var(--primary);
            border: 3px solid var(--primary);
        }
        
        .secondary-btn:hover {
            background: var(--primary);
            color: white;
            transform: translateY(-2px);
        }
        
        /* ===== ERROR STATES ===== */
        .error-message {
            color: var(--error);
            font-size: var(--font-small);
            margin-top: 0.5rem;
            font-weight: 600;
            padding: 0.5rem;
            background: rgba(239, 68, 68, 0.1);
            border-radius: 8px;
        }
        
        /* ===== ANIMATIONS ===== */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* ===== MOBILE OPTIMIZATION ===== */
        @media (max-width: 768px) {
            :root {
                --font-base: 22px;
                --font-small: 20px;
                --font-large: 26px;
                --font-xl: 30px;
                --font-xxl: 34px;
                --touch-min: 60px;
                --touch-comfortable: 68px;
            }
            
            .header-container {
                flex-direction: column;
                padding: 1rem;
                gap: 0.75rem;
            }
            
            .logo h1 {
                font-size: 1.5rem;
            }
            
            main {
                padding-top: 9rem;
            }
            
            .question-section {
                padding: 2rem 1.5rem;
            }
            
            .navigation-buttons {
                flex-direction: column;
            }
            
            .primary-btn,
            .secondary-btn {
                width: 100%;
            }
        }
        
        @media (max-width: 480px) {
            :root {
                --font-base: 24px;
                --touch-min: 64px;
            }
            
            .question-section {
                padding: 1.5rem 1rem;
            }
        }
    </style>
</head>

<body>
    <!-- Header -->
    <header class="header">
        <div class="header-container">
            <div style="display: flex; align-items: center;">
                <a href="../index.html" class="logo" style="text-decoration: none;">
                    <h1>RightCareHome</h1>
                </a>
                <span style="font-size: 1.125rem; color: var(--text-secondary); margin-left: 0.5rem;">.co.uk</span>
            </div>
            <div class="header-text">Professional Care Assessment</div>
        </div>
    </header>

    <!-- Main Content -->
    <main>
        <div class="container">
            
            <!-- Progress -->
            <div class="progress-text">
                Section <span id="current-section">1</span> of 5
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill" style="width: 20%;"></div>
            </div>

            <!-- Form -->
            <form id="questionnaire-form" novalidate>
                
                <!-- SECTION 1: Contact Info (5 questions) -->
                <div class="question-section active" data-section="1">
                    <h2 class="section-title">Contact & Emergency Information</h2>
                    <p class="section-description">Essential details for communication and safety</p>
                    
                    <div class="space-y-8">
                        <!-- Q1: Name -->
                        <div>
                            <label class="question-label" for="contact_001">
                                1. Your name and surname <span style="color: var(--error);">*</span>
                            </label>
                            <input type="text" id="contact_001" name="contact_001" class="form-input" 
                                   placeholder="Enter your full name" required>
                            <p class="help-text">How we should address you</p>
                        </div>

                        <!-- Q2: Email -->
                        <div>
                            <label class="question-label" for="contact_002">
                                2. Email address <span style="color: var(--error);">*</span>
                            </label>
                            <input type="email" id="contact_002" name="contact_002" class="form-input" 
                                   placeholder="example@email.com" required>
                            <p class="help-text">We'll send recommendations here</p>
                        </div>

                        <!-- Q3: Phone -->
                        <div>
                            <label class="question-label" for="contact_003">
                                3. Contact phone number <span style="color: var(--error);">*</span>
                            </label>
                            <input type="tel" id="contact_003" name="contact_003" class="form-input" 
                                   placeholder="+44 7xxx xxx xxx" required>
                            <p class="help-text">For urgent queries</p>
                        </div>

                        <!-- Q4: Relationship -->
                        <div>
                            <label class="question-label">
                                4. Your relationship to the person requiring care <span style="color: var(--error);">*</span>
                            </label>
                            <div style="display: flex; flex-direction: column; gap: 1rem;">
                                <label class="radio-option">
                                    <input type="radio" name="contact_004" value="son_daughter" required>
                                    <span>Son/daughter</span>
                                </label>
                                <label class="radio-option">
                                    <input type="radio" name="contact_004" value="spouse" required>
                                    <span>Spouse/partner</span>
                                </label>
                                <label class="radio-option">
                                    <input type="radio" name="contact_004" value="self" required>
                                    <span>Looking for care for myself</span>
                                </label>
                                <label class="radio-option">
                                    <input type="radio" name="contact_004" value="other" required>
                                    <span>Other family member/friend</span>
                                </label>
                            </div>
                        </div>

                        <!-- Q5: Emergency Contact -->
                        <div>
                            <label class="question-label" for="emergency_contact">
                                5. Emergency contact (name and phone) <span style="color: var(--error);">*</span>
                                <span class="priority-indicator priority-high">HIGH PRIORITY</span>
                            </label>
                            <input type="text" id="emergency_contact" name="emergency_contact" class="form-input" 
                                   placeholder="e.g. Anna Smith +44 7xxx xxx xxx" required>
                            <p class="help-text">Critical for care home records</p>
                        </div>
                    </div>
                </div>

                <!-- SECTION 2: Location & Budget (3 questions) -->
                <div class="question-section" data-section="2">
                    <h2 class="section-title">Location & Budget</h2>
                    <p class="section-description">Geographic and financial preferences</p>
                    
                    <div class="space-y-8">
                        <!-- Q6: Location -->
                        <div>
                            <label class="question-label" for="location_001">
                                6. Preferred city or region <span style="color: var(--error);">*</span>
                            </label>
                            <input type="text" id="location_001" name="location_001" class="form-input" 
                                   placeholder="Enter city name" required>
                            <p class="help-text">Near which city would you prefer the care home</p>
                        </div>

                        <!-- Q7: Distance -->
                        <div>
                            <label class="question-label">
                                7. Maximum distance from preferred location <span style="color: var(--error);">*</span>
                            </label>
                            <div style="display: flex; flex-direction: column; gap: 1rem;">
                                <label class="radio-option">
                                    <input type="radio" name="location_002" value="5km" required>
                                    <span>Up to 5 km</span>
                                </label>
                                <label class="radio-option">
                                    <input type="radio" name="location_002" value="15km" required>
                                    <span>Up to 15 km</span>
                                </label>
                                <label class="radio-option">
                                    <input type="radio" name="location_002" value="30km" required>
                                    <span>Up to 30 km</span>
                                </label>
                                <label class="radio-option">
                                    <input type="radio" name="location_002" value="no_limit" required>
                                    <span>Distance not important</span>
                                </label>
                            </div>
                        </div>

                        <!-- Q8: Budget -->
                        <div>
                            <label class="question-label">
                                8. Planned monthly budget <span style="color: var(--error);">*</span>
                            </label>
                            <div style="display: flex; flex-direction: column; gap: 1rem;">
                                <label class="radio-option">
                                    <input type="radio" name="budget_001" value="under_3000" required>
                                    <span>Up to £3,000</span>
                                </label>
                                <label class="radio-option">
                                    <input type="radio" name="budget_001" value="3000_5000" required>
                                    <span>£3,000 - £5,000</span>
                                </label>
                                <label class="radio-option">
                                    <input type="radio" name="budget_001" value="5000_7000" required>
                                    <span>£5,000 - £7,000</span>
                                </label>
                                <label class="radio-option">
                                    <input type="radio" name="budget_001" value="over_7000" required>
                                    <span>Over £7,000</span>
                                </label>
                                <label class="radio-option">
                                    <input type="radio" name="budget_001" value="need_advice" required>
                                    <span>Need budget guidance</span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- SECTION 3: Medical Needs (4 questions) -->
                <div class="question-section" data-section="3">
                    <h2 class="section-title">Medical Needs</h2>
                    <p class="section-description">Required level of care and medical support</p>
                    
                    <div class="space-y-8">
                        <!-- Q9: Care Types -->
                        <div>
                            <label class="question-label">
                                9. What types of care are needed? <span style="color: var(--error);">*</span>
                            </label>
                            <div style="display: flex; flex-direction: column; gap: 1rem;">
                                <label class="checkbox-option">
                                    <input type="checkbox" name="care_001" value="residential">
                                    <span>General care (residential)</span>
                                </label>
                                <label class="checkbox-option">
                                    <input type="checkbox" name="care_001" value="nursing">
                                    <span>Medical care (nursing)</span>
                                </label>
                                <label class="checkbox-option">
                                    <input type="checkbox" name="care_001" value="dementia">
                                    <span>Specialised dementia care</span>
                                </label>
                                <label class="checkbox-option">
                                    <input type="checkbox" name="care_001" value="respite">
                                    <span>Temporary care (respite)</span>
                                </label>
                            </div>
                            <p class="help-text">Select all that apply</p>
                        </div>

                        <!-- Q10: Medical Conditions -->
                        <div>
                            <label class="question-label">
                                10. Main medical conditions (if any) <span style="color: var(--error);">*</span>
                            </label>
                            <div style="display: flex; flex-direction: column; gap: 1rem;">
                                <label class="checkbox-option">
                                    <input type="checkbox" name="care_002" value="dementia">
                                    <span>Dementia/Alzheimer's</span>
                                </label>
                                <label class="checkbox-option">
                                    <input type="checkbox" name="care_002" value="mobility">
                                    <span>Mobility problems</span>
                                </label>
                                <label class="checkbox-option">
                                    <input type="checkbox" name="care_002" value="diabetes">
                                    <span>Diabetes</span>
                                </label>
                                <label class="checkbox-option">
                                    <input type="checkbox" name="care_002" value="heart">
                                    <span>Heart conditions</span>
                                </label>
                                <label class="checkbox-option">
                                    <input type="checkbox" name="care_002" value="none">
                                    <span>No serious medical problems</span>
                                </label>
                            </div>
                        </div>

                        <!-- Q11: Mobility -->
                        <div>
                            <label class="question-label">
                                11. Level of mobility <span style="color: var(--error);">*</span>
                            </label>
                            <div style="display: flex; flex-direction: column; gap: 1rem;">
                                <label class="radio-option">
                                    <input type="radio" name="mobility" value="fully_mobile" required>
                                    <span>Fully mobile and independent</span>
                                </label>
                                <label class="radio-option">
                                    <input type="radio" name="mobility" value="walking_aid" required>
                                    <span>Uses walking aids (stick, frame)</span>
                                </label>
                                <label class="radio-option">
                                    <input type="radio" name="mobility" value="wheelchair_partial" required>
                                    <span>Sometimes uses wheelchair</span>
                                </label>
                                <label class="radio-option">
                                    <input type="radio" name="mobility" value="wheelchair_full" required>
                                    <span>Permanently in wheelchair</span>
                                </label>
                            </div>
                        </div>

                        <!-- Q12: Medications -->
                        <div>
                            <label class="question-label">
                                12. Medication management needs <span style="color: var(--error);">*</span>
                                <span class="priority-indicator priority-high">HIGH PRIORITY</span>
                            </label>
                            <div style="display: flex; flex-direction: column; gap: 1rem;">
                                <label class="radio-option">
                                    <input type="radio" name="medications" value="none" required>
                                    <span>Takes no medications</span>
                                </label>
                                <label class="radio-option">
                                    <input type="radio" name="medications" value="simple" required>
                                    <span>1-2 simple medications</span>
                                </label>
                                <label class="radio-option">
                                    <input type="radio" name="medications" value="moderate" required>
                                    <span>Several medications, simple routine</span>
                                </label>
                                <label class="radio-option">
                                    <input type="radio" name="medications" value="complex" required>
                                    <span>Many medications, complex routine</span>
                                </label>
                            </div>
                            <p class="help-text">Critical for choosing appropriate medical care level</p>
                        </div>
                    </div>
                </div>

                <!-- SECTION 4: Safety & Special Needs (4 questions) -->
                <div class="question-section safety-section" data-section="4">
                    <h2 class="section-title">
                        <span class="safety-icon">🛡️</span>Safety & Special Needs
                        <span class="priority-indicator priority-critical">SAFETY CRITICAL</span>
                    </h2>
                    <p class="section-description">Essential safety information</p>
                    
                    <div class="space-y-8">
                        <!-- Q13: Falls -->
                        <div>
                            <label class="question-label">
                                13. Fall history in past year <span style="color: var(--error);">*</span>
                                <span class="priority-indicator priority-critical">CRITICAL</span>
                            </label>
                            <div style="display: flex; flex-direction: column; gap: 1rem;">
                                <label class="radio-option">
                                    <input type="radio" name="safety_falls" value="no_falls" required>
                                    <span>No falls occurred</span>
                                </label>
                                <label class="radio-option">
                                    <input type="radio" name="safety_falls" value="rare_falls" required>
                                    <span>1-2 falls, no serious injuries</span>
                                </label>
                                <label class="radio-option">
                                    <input type="radio" name="safety_falls" value="frequent_falls" required>
                                    <span>3+ falls or serious injuries</span>
                                </label>
                                <label class="radio-option">
                                    <input type="radio" name="safety_falls" value="high_risk" required>
                                    <span>High risk of falling</span>
                                </label>
                            </div>
                            <p class="help-text">Critical for safety level assessment</p>
                        </div>

                        <!-- Q14: Allergies -->
                        <div>
                            <label class="question-label">
                                14. Major allergies (if any) <span style="color: var(--error);">*</span>
                                <span class="priority-indicator priority-high">HIGH PRIORITY</span>
                            </label>
                            <div style="display: flex; flex-direction: column; gap: 1rem;">
                                <label class="checkbox-option">
                                    <input type="checkbox" name="allergies" value="food">
                                    <span>Food allergies</span>
                                </label>
                                <label class="checkbox-option">
                                    <input type="checkbox" name="allergies" value="medication">
                                    <span>Medication allergies</span>
                                </label>
                                <label class="checkbox-option">
                                    <input type="checkbox" name="allergies" value="environmental">
                                    <span>Environmental allergies</span>
                                </label>
                                <label class="checkbox-option">
                                    <input type="checkbox" name="allergies" value="none">
                                    <span>No allergies</span>
                                </label>
                            </div>
                            <p class="help-text">Essential for safety planning</p>
                        </div>

                        <!-- Q15: Dietary Requirements -->
                        <div>
                            <label class="question-label">
                                15. Special dietary requirements <span style="color: var(--error);">*</span>
                            </label>
                            <div style="display: flex; flex-direction: column; gap: 1rem;">
                                <label class="checkbox-option">
                                    <input type="checkbox" name="dietary" value="diabetic">
                                    <span>Diabetic diet</span>
                                </label>
                                <label class="checkbox-option">
                                    <input type="checkbox" name="dietary" value="pureed">
                                    <span>Pureed/soft food</span>
                                </label>
                                <label class="checkbox-option">
                                    <input type="checkbox" name="dietary" value="vegetarian">
                                    <span>Vegetarian/vegan</span>
                                </label>
                                <label class="checkbox-option">
                                    <input type="checkbox" name="dietary" value="none">
                                    <span>No special requirements</span>
                                </label>
                            </div>
                        </div>

                        <!-- Q16: Social Personality -->
                        <div>
                            <label class="question-label">
                                16. Social personality type <span style="color: var(--error);">*</span>
                            </label>
                            <div style="display: flex; flex-direction: column; gap: 1rem;">
                                <label class="radio-option">
                                    <input type="radio" name="social_personality" value="very_social" required>
                                    <span>Very sociable, loves activities</span>
                                </label>
                                <label class="radio-option">
                                    <input type="radio" name="social_personality" value="moderately_social" required>
                                    <span>Moderately sociable</span>
                                </label>
                                <label class="radio-option">
                                    <input type="radio" name="social_personality" value="prefers_quiet" required>
                                    <span>Prefers quiet and peace</span>
                                </label>
                            </div>
                            <p class="help-text">Helps match social environment</p>
                        </div>
                    </div>
                </div>

                <!-- SECTION 5: Timeline & Preferences (2 questions) -->
                <div class="question-section" data-section="5">
                    <h2 class="section-title">Timeline & Additional Details</h2>
                    <p class="section-description">When placement is needed</p>
                    
                    <div class="space-y-8">
                        <!-- Q17: Timeline -->
                        <div>
                            <label class="question-label">
                                17. When is placement needed? <span style="color: var(--error);">*</span>
                            </label>
                            <div style="display: flex; flex-direction: column; gap: 1rem;">
                                <label class="radio-option">
                                    <input type="radio" name="timeline" value="urgent" required>
                                    <span>Urgent (within 2 weeks)</span>
                                </label>
                                <label class="radio-option">
                                    <input type="radio" name="timeline" value="soon" required>
                                    <span>Within next month</span>
                                </label>
                                <label class="radio-option">
                                    <input type="radio" name="timeline" value="planning" required>
                                    <span>Planning for 2-3 months</span>
                                </label>
                                <label class="radio-option">
                                    <input type="radio" name="timeline" value="exploring" required>
                                    <span>Just exploring options (6+ months)</span>
                                </label>
                            </div>
                            <p class="help-text">This helps us prioritise recommendations</p>
                        </div>

                        <!-- Q18: Additional Info -->
                        <div>
                            <label class="question-label" for="additional_info">
                                18. Additional information or special requirements
                            </label>
                            <textarea id="additional_info" name="additional_info" class="form-input" rows="4" 
                                      placeholder="Any special needs, preferences, or questions..."></textarea>
                            <p class="help-text">Any additional details that will help us better match options</p>
                        </div>
                    </div>
                </div>

                <!-- Navigation -->
                <div class="navigation-buttons">
                    <button type="button" id="prev-btn" class="secondary-btn" style="display: none;">
                        ← Previous
                    </button>
                    
                    <div style="display: flex; gap: 1rem; flex: 1; justify-content: flex-end;">
                        <button type="button" id="next-btn" class="primary-btn">
                            Next Section →
                        </button>
                        <button type="submit" id="submit-btn" class="primary-btn" style="display: none;">
                            Complete Assessment
                        </button>
                    </div>
                </div>

            </form>
        </div>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const totalSections = 5;
            let currentSection = 1;
            const form = document.getElementById('questionnaire-form');
            const sections = document.querySelectorAll('.question-section');
            const nextBtn = document.getElementById('next-btn');
            const prevBtn = document.getElementById('prev-btn');
            const submitBtn = document.getElementById('submit-btn');
            const progressFill = document.getElementById('progress-fill');
            const currentSectionSpan = document.getElementById('current-section');
            
            function updateProgress() {
                const progress = (currentSection / totalSections) * 100;
                progressFill.style.width = progress + '%';
                currentSectionSpan.textContent = currentSection;
                updateNavigationButtons();
            }
            
            function validateSection(showErrors = false) {
                const section = sections[currentSection - 1];
                const required = section.querySelectorAll('[required]');
                let isValid = true;
                
                if (showErrors) {
                    section.querySelectorAll('.error-message').forEach(msg => msg.remove());
                }
                
                required.forEach(input => {
                    let fieldValid = true;
                    
                    if (input.type === 'radio') {
                        const checked = section.querySelector(`[name="${input.name}"]:checked`);
                        if (!checked) fieldValid = false;
                    } else if (input.type === 'checkbox') {
                        const checked = section.querySelectorAll(`[name="${input.name}"]:checked`);
                        if (checked.length === 0) fieldValid = false;
                    } else if (!input.value.trim()) {
                        fieldValid = false;
                    } else if (input.type === 'email' && !/^[^@]+@[^@]+\.[^@]+$/.test(input.value)) {
                        fieldValid = false;
                    }
                    
                    if (!fieldValid) {
                        isValid = false;
                        if (showErrors) {
                            const parent = input.closest('div');
                            if (!parent.querySelector('.error-message')) {
                                const error = document.createElement('div');
                                error.className = 'error-message';
                                error.textContent = 'This field is required';
                                parent.appendChild(error);
                            }
                        }
                    }
                });
                
                return isValid;
            }
            
            function updateNavigationButtons() {
                const isValid = validateSection(false);
                prevBtn.style.display = currentSection > 1 ? 'block' : 'none';
                
                if (currentSection === totalSections) {
                    nextBtn.style.display = 'none';
                    submitBtn.style.display = 'block';
                    submitBtn.disabled = !isValid;
                } else {
                    nextBtn.style.display = 'block';
                    submitBtn.style.display = 'none';
                    nextBtn.disabled = !isValid;
                }
            }
            
            function showSection(num) {
                sections.forEach((s, i) => {
                    s.classList.toggle('active', i + 1 === num);
                });
                currentSection = num;
                updateProgress();
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
            
            nextBtn.addEventListener('click', () => {
                if (validateSection(true)) {
                    if (currentSection < totalSections) {
                        showSection(currentSection + 1);
                    }
                } else {
                    const firstError = sections[currentSection - 1].querySelector('.error-message');
                    if (firstError) {
                        firstError.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    }
                }
            });
            
            prevBtn.addEventListener('click', () => {
                if (currentSection > 1) {
                    showSection(currentSection - 1);
                }
            });
            
            form.addEventListener('input', updateNavigationButtons);
            form.addEventListener('change', updateNavigationButtons);
            
            form.addEventListener('submit', (e) => {
                e.preventDefault();
                if (validateSection(true)) {
                    // Collect all data
                    const formData = new FormData(form);
                    const data = Object.fromEntries(formData);
                    console.log('Complete assessment data:', data);
                    
                    alert('✅ Assessment complete! All 18 questions answered.\n\nRedirecting to thank you page...');
                    // window.location.href = 'thank-you.html';
                }
            });
            
            // Visual feedback for selections
            document.querySelectorAll('.radio-option, .checkbox-option').forEach(option => {
                option.addEventListener('click', function(e) {
                    if (e.target.tagName === 'INPUT') return;
                    const input = this.querySelector('input');
                    if (input) {
                        if (input.type === 'radio') {
                            input.checked = true;
                            document.querySelectorAll(`[name="${input.name}"]`).forEach(r => {
                                r.closest('.radio-option').classList.toggle('selected', r.checked);
                            });
                        } else {
                            input.checked = !input.checked;
                            this.classList.toggle('selected', input.checked);
                        }
                        updateNavigationButtons();
                    }
                });
            });
            
            updateProgress();
        });
    </script>
</body>
</html>